<Window x:Class="Cookmaster.Views.RecipeListWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Cookmaster.Views"
        mc:Ignorable="d"
        Title="RecipeListWindow" Height="450" Width="800">
    <DockPanel Margin="10">

        
        <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="0,0,0,10" VerticalAlignment="Center">
            <TextBlock Text="CookMaster" FontSize="24" FontWeight="Bold" />
            <TextBlock Text=" | Inloggad som: " FontSize="14" Margin="20,0,0,0"/>
            <TextBlock Text="{Binding LoggedInUsername}" FontSize="14" FontWeight="Bold" Foreground="DarkBlue"/>

            <Button Content="User"
                    Command="{Binding OpenUserDetailsCommand}"
                    Margin="20,0,0,0" Width="80"/>

            <Button Content="Info"
                    Command="{Binding ShowInfoCommand}"
                    Margin="10,0,0,0" Width="70"/>

            <Button Content="Sign Out"
                    Command="{Binding SignOutCommand}"
                    Margin="10,0,0,0" Width="90"/>
        </StackPanel>

        
        <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="0,0,0,10">
            <TextBox Width="200"
                     Text="{Binding SearchKeyword, UpdateSourceTrigger=PropertyChanged}"
                     />
            <ComboBox Width="150" Margin="10,0,0,0"
                      ItemsSource="{Binding Categories}"
                      SelectedItem="{Binding SelectedCategory}"
                      />
            <Button Content="Filtrera" Command="{Binding FilterCommand}" Margin="10,0,0,0" Width="80"/>
        </StackPanel>

        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <ListView ItemsSource="{Binding Recipes}" SelectedItem="{Binding SelectedRecipe}" Grid.Row="0">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="Titel" DisplayMemberBinding="{Binding Title}" Width="200"/>
                        <GridViewColumn Header="Kategori" DisplayMemberBinding="{Binding Category}" Width="150"/>
                        <GridViewColumn Header="Datum" DisplayMemberBinding="{Binding CreatedDate}" Width="120"/>
                        <GridViewColumn Header="Skapad av" DisplayMemberBinding="{Binding CreatedBy}" Width="120"/>
                    </GridView>
                </ListView.View>
            </ListView>

            <!-- 🔹 Knappmeny -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Grid.Row="1" Margin="0,10,0,0">
                <Button Content="Add Recipe" Command="{Binding AddRecipeCommand}" Width="120" Margin="5"/>
                <Button Content="Details" Command="{Binding ViewDetailsCommand}" Width="120" Margin="5"/>
                <Button Content="Remove" Command="{Binding RemoveRecipeCommand}" Width="120" Margin="5"/>
            </StackPanel>
        </Grid>

    </DockPanel>
</Window>
